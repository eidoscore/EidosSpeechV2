# eidosSpeech v2 — Environment Configuration (Example)
# Copy this file to .env and fill in your values

# ── Core ──────────────────────────────────────────────────
EIDOS_APP_ENV=production
EIDOS_DEBUG=false
EIDOS_PUBLIC_DOMAIN=eidosspeech.xyz

# ── Security ──────────────────────────────────────────────
# CRITICAL: Generate strong random keys before deployment!
# SECRET_KEY: openssl rand -hex 32 (minimum 64 characters)
# ADMIN_KEY: openssl rand -hex 16 (minimum 32 characters)
# 
# ⚠️ APPLICATION WILL NOT START WITHOUT THESE SET PROPERLY ⚠️
EIDOS_SECRET_KEY=
EIDOS_ADMIN_KEY=

# ── Database ──────────────────────────────────────────────
EIDOS_DATABASE_URL=sqlite+aiosqlite:///./data/db/eidosspeech.db

# ── Email Chain: Brevo → Mailtrap → Resend ────────────────
# 1. Primary: Brevo SMTP (300 free emails/day — https://brevo.com)
EIDOS_SMTP_HOST=smtp-relay.brevo.com
EIDOS_SMTP_PORT=587
EIDOS_SMTP_USERNAME=your_brevo_login@example.com
EIDOS_SMTP_PASSWORD=your_brevo_smtp_password
EIDOS_SMTP_FROM=eidosSpeech <noreply@eidosspeech.xyz>

# 2. Fallback: Mailtrap SMTP (1000 free emails/month — https://mailtrap.io)
# Leave blank to skip this provider
EIDOS_SMTP_FALLBACK_HOST=live.smtp.mailtrap.io
EIDOS_SMTP_FALLBACK_PORT=587
EIDOS_SMTP_FALLBACK_USERNAME=smtp@mailtrap.io
EIDOS_SMTP_FALLBACK_PASSWORD=

# 3. Last resort: Resend API (100 free emails/day — https://resend.com)
# Leave blank to skip this provider
EIDOS_RESEND_API_KEY=

# ── Cloudflare Turnstile (bot protection) ────────────────
# Get keys at: https://dash.cloudflare.com → Turnstile
EIDOS_TURNSTILE_SITE_KEY=
EIDOS_TURNSTILE_SECRET_KEY=
EIDOS_TURNSTILE_ENABLED=false
# Set true only for local dev/testing (skips token check)
EIDOS_TURNSTILE_ALLOW_BYPASS=false

# ── Rate Limits ───────────────────────────────────────────
# Anonymous tier (Web UI only, no registration)
EIDOS_ANON_REQ_PER_DAY=5
EIDOS_ANON_REQ_PER_MIN=1
EIDOS_ANON_CHAR_LIMIT=500

# Registered tier — API calls (via X-API-Key from external apps)
EIDOS_FREE_API_REQ_PER_DAY=30
EIDOS_FREE_API_REQ_PER_MIN=3
EIDOS_FREE_API_CHAR_LIMIT=1000

# Registered tier — Web UI calls (via JWT from our website)
EIDOS_FREE_WEBUI_REQ_PER_DAY=30
EIDOS_FREE_WEBUI_REQ_PER_MIN=3
EIDOS_FREE_WEBUI_CHAR_LIMIT=2000

# ── TTS & Cache ───────────────────────────────────────────
EIDOS_DEFAULT_VOICE=id-ID-GadisNeural
EIDOS_CACHE_DIR=./data/cache
EIDOS_CACHE_MAX_SIZE_GB=5.0
EIDOS_CACHE_TTL_DAYS=30
EIDOS_MAX_CONCURRENT=3
EIDOS_TTS_MAX_RETRIES=3
EIDOS_TTS_RETRY_DELAY=1.0

# ── Performance & Scaling ─────────────────────────────────
# Max concurrent heavy operations (multi-voice script generation)
# Recommended values based on server specs:
#   4 core, 8GB RAM: 3 (conservative, recommended)
#   8 core, 16GB RAM: 6-7
#   16 core, 32GB RAM: 12-15
# See SCALING_STRATEGY.md for capacity calculator
MAX_HEAVY_OPERATIONS=3

# ── Proxies (optional) ────────────────────────────────────
# Comma-separated proxy URLs. Leave blank for direct connection.
# Example: http://user:pass@proxy1.example.com:8080,http://proxy2:3128
EIDOS_PROXIES=
